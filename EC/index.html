<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="EC.css">
    <title>電子部品のご紹介</title>
</head>
<body>
    <div class="title">
        <h1>電子部品の紹介</h1>
    </div>

    <section>
        <h2>コイル</h2>
        <div class="img-wrap">
            <div class="img"></div>
        </div>
    </section>

    <section>
        <h2>コンデンサ</h2>
        <div class="img-wrap">
            <div class="img"></div>
        </div>
    </section>

    <section>
        <h2>ダイオード</h2>
        <div class="img-wrap">
            <div class="img"></div>
        </div>
    </section>

    <section>
        <h2>トランジスタ</h2>
        <div class="img-wrap">
            <div class="img"></div>
        </div>
    </section>

    <section>
        <h2>サイリスタ</h2>
        <div class="img-wrap">
            <div class="img"></div>
        </div>
    </section>

    <section>
        <h2>抵抗器</h2>
        <div class="img-wrap">
            <div class="img"></div>
        </div>
    </section>

    <script>
        let imagesItems = [...document.querySelectorAll(".img-wrap")];
        console.log(imagesItems);
        let titles = [...document.querySelectorAll("h2")];
        let titleMessage = document.querySelector(".title");

        let setItemActive = (entries) => {
            //console.log(entries);//
            entries.forEach((entry)=> {
                if(entry.isIntersecting) {
                    entry.target.classList.add("active");
                } else {
                    entry.target.classList.remove("active")
                }
            });
        };

        let options = {
    rootMargin: "0px",
    threshold: 0.2,
};

        let observer = new IntersectionObserver(setItemActive, options);

        observer.observe(titleMessage);

        imagesItems.map((item, index) => {
            console.log(item,index);
            item.children[0].style.backgroundImage = `url(./img/${index + 1}.jpeg)`;
            index % 2 == 0 ? (item.style.left = "55%"): (item.style.left = "5%");
            observer.observe(item);
        })

        titles.map((title, index) => {
            index % 2 == 0 ? (title.style.left = "45%") : (title.style.left = "35%");
            observer.observe(title);
        })

        

    </script>
</body>
</html>